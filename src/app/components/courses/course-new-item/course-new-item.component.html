<ep-spinner *ngIf="indicator"></ep-spinner>
<section *ngIf="!indicator">
  <h2 class="form-title text-capitalize mb-3">create new course</h2>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label class="text-capitalize" for="title">
        title:
        <span>*required</span>
        <small *ngIf="title.invalid && (title.dirty || title.touched)" class="error-message text-danger text-uppercase">error title</small>
      </label>
      <input
        formControlName="title"
        type="text"
        class="form-control"
        [class.is-invalid]="title.invalid && (title.dirty || title.touched)"
        id="title"
        placeholder="title of course"
      />
    </div>
    <div class="form-group">
      <label class="text-capitalize" for="description">
        description:
        <span>*required</span>
        <small *ngIf="description.invalid && (description.dirty || description.touched)" class="error-message text-danger text-uppercase">error description</small>
      </label>
      <textarea
        formControlName="description"
        type="text"
        class="form-control"
        [class.is-invalid]="description.invalid && (description.dirty || description.touched)"
        id="description"
        rows="3"
        placeholder="description of course"
      ></textarea>
    </div>
    <div class="form-group">
      <label class="text-capitalize" for="date">
        date:
        <span>*required</span>
        <small
          *ngIf="date.errors?.errorDate && date.invalid && (date.dirty || date.touched)"
          class="error-message text-danger text-uppercase"
        >{{ date.errors.errorDate.value }}</small>
      </label>
      <input
        formControlName="date"
        type="date"
        class="form-control"
        [class.is-invalid]="date.invalid && (date.dirty || date.touched)"
        id="date"
        epDateValidate
        placeholder="MM.DD.YYYY"
      />
    </div>
    <div class="form-group">
      <label class="text-capitalize" for="duration">
        duration:
        <span>*required</span>
        <small *ngIf="duration.errors?.errorMessage && duration.invalid && (duration.dirty || duration.touched)" class="error-message text-danger text-uppercase">{{ duration.errors.errorMessage.value }}</small>
      </label>
      <input
        formControlName="duration"
        type="text"
        class="form-control"
        [class.is-invalid]="duration.errors?.errorMessage && duration.invalid && (duration.dirty || duration.touched)"
        id="duration"
        placeholder="input in minutes"
      />
    </div>

    <div class="form-group" style="margin-bottom: 3rem">
      <label class="text-capitalize" for="authors">
        authors:
        <span>*required</span>
        <small *ngIf="author.invalid && (author.dirty || author.touched)" class="error-message text-danger text-uppercase">error authors</small>
      </label>
      <ng-select
        id="authors"
        style="text-transform: capitalize"
        [items]="authors"
        [closeOnSelect]="false"
        [searchable]="false"
        multiple="true"
        bindLabel="name"
        formControlName="authors"
        [class.ng-select-error]="author.invalid && (author.dirty || author.touched)"
        placeholder="Select authors"
      >
      </ng-select>
    </div>

    <button
      [disabled]="form.invalid"
      class="btn btn-primary text-capitalize mr-2"
      type="submit"
    >save</button>
    <button class="btn btn-secondary text-capitalize" (click)="goBack()" type="button">
      cancel
    </button>
  </form>
</section>
